{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst input = document.querySelector('.search-input');\nconst searchBtn = document.querySelector('.search-btn');\nconst gallery = document.getElementById('gallery');\nconst lightbox = new SimpleLightbox('.gallery li > a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst loadMoreBtn = document.getElementById('load-more');\n\nlet page = 1;\nlet curentQ = '';\n\nasync function searchImages() {\n  const q = input.value.trim();\n  let loader = document.getElementById('loader-more-container');\n\n  if (q !== '' && q !== curentQ) {\n    page = 1;\n    curentQ = q;\n    gallery.innerHTML = '';\n    loader = document.getElementById('loader-container');\n  }\n\n  const apiKey = '45978686-70839b27c443bdf6e9ef42e3a';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`;\n\n  try {\n    loader.classList.remove('hidden');\n\n    const response = await axios.get(url);\n    const data = response.data;\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: '',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    } else {\n      displayImages(data.hits);\n      loadMoreBtn.classList.remove('hidden');\n      page++;\n    }\n  } catch (error) {\n    console.error('Hata:', error);\n  } finally {\n    loader.classList.add('hidden');\n  }\n}\n\nfunction displayImages(images) {\n  const galleryHtml = images.map(image => {\n    return `\n    <li class=\"card\">\n  <a href=\"${image.largeImageURL}\">\n    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-text\"><b>Likes</b> ${image.likes}</p>\n    <p class=\"info-text\"><b>Views</b> ${image.views}</p>\n    <p class=\"info-text\"><b>Comments</b> ${image.comments}</p>\n    <p class=\"info-text\"><b>Downloads</b> ${image.downloads}</p>\n  </div>\n</li>\n    \n    `;\n  });\n\n  gallery.innerHTML += galleryHtml.join('');\n  lightbox.refresh();\n}\n\nsearchBtn.addEventListener('click', e => {\n  e.preventDefault();\n\n  searchImages();\n});\n\nloadMoreBtn.addEventListener('click', e => {\n  e.preventDefault();\n  searchImages();\n});\n"],"names":["input","searchBtn","gallery","lightbox","SimpleLightbox","loadMoreBtn","page","curentQ","searchImages","q","loader","url","data","axios","iziToast","displayImages","error","images","galleryHtml","image","e"],"mappings":"owBAMA,MAAMA,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAc,SAAS,eAAe,WAAW,EAEvD,IAAIC,EAAO,EACPC,EAAU,GAEd,eAAeC,GAAe,CAC5B,MAAMC,EAAIT,EAAM,MAAM,KAAI,EAC1B,IAAIU,EAAS,SAAS,eAAe,uBAAuB,EAExDD,IAAM,IAAMA,IAAMF,IACpBD,EAAO,EACPC,EAAUE,EACVP,EAAQ,UAAY,GACpBQ,EAAS,SAAS,eAAe,kBAAkB,GAIrD,MAAMC,EAAM,qEAA4CF,CAAC,iEAAiEH,CAAI,eAE9H,GAAI,CACFI,EAAO,UAAU,OAAO,QAAQ,EAGhC,MAAME,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAElBC,EAAK,KAAK,SAAW,EACvBE,EAAS,MAAM,CACb,MAAO,GACP,QACE,2EACF,SAAU,UAClB,CAAO,GAEDC,EAAcH,EAAK,IAAI,EACvBP,EAAY,UAAU,OAAO,QAAQ,EACrCC,IAEH,OAAQU,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,CAChC,QAAY,CACRN,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAEA,SAASK,EAAcE,EAAQ,CAC7B,MAAMC,EAAcD,EAAO,IAAIE,GACtB;AAAA;AAAA,aAEEA,EAAM,aAAa;AAAA,gBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,wCAGdA,EAAM,KAAK;AAAA,wCACXA,EAAM,KAAK;AAAA,2CACRA,EAAM,QAAQ;AAAA,4CACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAKxD,EAEDjB,EAAQ,WAAagB,EAAY,KAAK,EAAE,EACxCf,EAAS,QAAO,CAClB,CAEAF,EAAU,iBAAiB,QAASmB,GAAK,CACvCA,EAAE,eAAc,EAEhBZ,GACF,CAAC,EAEDH,EAAY,iBAAiB,QAASe,GAAK,CACzCA,EAAE,eAAc,EAChBZ,GACF,CAAC"}